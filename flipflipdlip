<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>翻牌记忆游戏</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            padding: 25px;
        }
        
        header {
            text-align: center;
            margin-bottom: 25px;
        }
        
        h1 {
            color: #2c3e50;
            font-size: 2.8rem;
            margin-bottom: 8px;
            background: linear-gradient(to right, #1a2a6c, #b21f1f, #fdbb2d);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.2rem;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #34495e;
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .stats {
            display: flex;
            gap: 25px;
        }
        
        .stat-box {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #f1c40f;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #ecf0f1;
            margin-top: 5px;
        }
        
        .controls {
            display: flex;
            gap: 15px;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }
        
        button:hover {
            background-color: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(52, 152, 219, 0.4);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        #resetBtn {
            background-color: #e74c3c;
            box-shadow: 0 4px 8px rgba(231, 76, 60, 0.3);
        }
        
        #resetBtn:hover {
            background-color: #c0392b;
            box-shadow: 0 6px 12px rgba(231, 76, 60, 0.4);
        }
        
        .game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        @media (min-width: 768px) {
            .game-board {
                grid-template-columns: repeat(6, 1fr);
            }
        }
        
        .card {
            height: 120px;
            perspective: 1000px;
            cursor: pointer;
        }
        
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 12px;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        
        .card.matched .card-inner {
            transform: rotateY(180deg);
        }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .card-front {
            background: linear-gradient(145deg, #2c3e50, #34495e);
            color: white;
            font-size: 2.5rem;
        }
        
        .card-back {
            background: linear-gradient(145deg, #fdbb2d, #b21f1f);
            color: white;
            transform: rotateY(180deg);
            font-size: 2.8rem;
        }
        
        .instructions {
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 12px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .instructions h3 {
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .instructions p {
            color: #7f8c8d;
            line-height: 1.6;
        }
        
        .win-message {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            justify-content: center;
            align-items: center;
            z-index: 100;
            flex-direction: column;
            color: white;
            text-align: center;
            padding: 20px;
        }
        
        .win-content {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f);
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
        }
        
        .win-content h2 {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #f1c40f;
        }
        
        .win-content p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }
        
        .win-content button {
            font-size: 1.2rem;
            padding: 15px 30px;
            margin: 0 auto;
        }
        
        @media (max-width: 600px) {
            .game-board {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .card {
                height: 100px;
            }
            
            .game-info {
                flex-direction: column;
                gap: 15px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-gamepad"></i> 翻牌记忆游戏</h1>
            <p class="subtitle">翻开卡片，找到所有匹配的卡片对</p>
        </header>
        
        <div class="game-info">
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-value" id="moves">0</div>
                    <div class="stat-label">移动次数</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="matches">0</div>
                    <div class="stat-label">匹配对数</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="timer">60</div>
                    <div class="stat-label">剩余时间</div>
                </div>
            </div>
            
            <div class="controls">
                <button id="startBtn">
                    <i class="fas fa-play"></i> 开始游戏
                </button>
                <button id="resetBtn">
                    <i class="fas fa-redo"></i> 重新开始
                </button>
            </div>
        </div>
        
        <div class="game-board" id="gameBoard">
            <!-- 卡片将通过JavaScript动态生成 -->
        </div>
        
        <div class="instructions">
            <h3><i class="fas fa-info-circle"></i> 游戏说明</h3>
            <p>1. 点击卡片翻开它，记住卡片上的图案</p>
            <p>2. 继续翻开另一张卡片，尝试找到与前一张卡片图案相同的卡片</p>
            <p>3. 如果两张卡片匹配，它们将保持翻开状态</p>
            <p>4. 如果卡片不匹配，它们将会自动翻回去</p>
            <p>5. 在时间用完之前找到所有匹配的卡片对即可获胜！</p>
        </div>
    </div>
    
    <div class="win-message" id="winMessage">
        <div class="win-content">
            <h2><i class="fas fa-trophy"></i> 恭喜！</h2>
            <p>你成功找到了所有卡片对！</p>
            <p>移动次数: <span id="finalMoves">0</span></p>
            <p>用时: <span id="finalTime">0</span> 秒</p>
            <button id="playAgainBtn">
                <i class="fas fa-play"></i> 再玩一次
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // 游戏配置
            const config = {
                totalPairs: 8, // 卡片对数
                totalTime: 60, // 游戏时间(秒)
                icons: ['fa-heart', 'fa-star', 'fa-flag', 'fa-bell', 'fa-bolt', 
                       'fa-cloud', 'fa-sun', 'fa-moon', 'fa-gem', 'fa-key',
                       'fa-rocket', 'fa-crown', 'fa-tree', 'fa-umbrella', 'fa-snowflake']
            };
            
            // 游戏状态
            const gameState = {
                cards: [],
                flippedCards: [],
                matchedPairs: 0,
                moves: 0,
                gameStarted: false,
                gameOver: false,
                timer: config.totalTime,
                timerInterval: null
            };
            
            // DOM元素
            const gameBoard = document.getElementById('gameBoard');
            const movesElement = document.getElementById('moves');
            const matchesElement = document.getElementById('matches');
            const timerElement = document.getElementById('timer');
            const startBtn = document.getElementById('startBtn');
            const resetBtn = document.getElementById('resetBtn');
            const winMessage = document.getElementById('winMessage');
            const finalMovesElement = document.getElementById('finalMoves');
            const finalTimeElement = document.getElementById('finalTime');
            const playAgainBtn = document.getElementById('playAgainBtn');
            
            // 初始化游戏
            function initGame() {
                gameState.cards = [];
                gameState.flippedCards = [];
                gameState.matchedPairs = 0;
                gameState.moves = 0;
                gameState.gameStarted = false;
                gameState.gameOver = false;
                gameState.timer = config.totalTime;
                
                movesElement.textContent = gameState.moves;
                matchesElement.textContent = gameState.matchedPairs;
                timerElement.textContent = gameState.timer;
                
                clearInterval(gameState.timerInterval);
                gameState.timerInterval = null;
                
                winMessage.style.display = 'none';
                
                createCards();
            }
            
            // 创建卡片
            function createCards() {
                gameBoard.innerHTML = '';
                
                // 随机选择图标
                const selectedIcons = [...config.icons]
                    .sort(() => 0.5 - Math.random())
                    .slice(0, config.totalPairs);
                
                // 创建卡片对
                const cardIcons = [...selectedIcons, ...selectedIcons];
                
                // 随机排序卡片
                cardIcons.sort(() => 0.5 - Math.random());
                
                // 生成卡片元素
                cardIcons.forEach((icon, index) => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.dataset.icon = icon;
                    card.dataset.index = index;
                    
                    const cardInner = document.createElement('div');
                    cardInner.className = 'card-inner';
                    
                    const cardFront = document.createElement('div');
                    cardFront.className = 'card-front';
                    cardFront.innerHTML = '<i class="fas fa-question"></i>';
                    
                    const cardBack = document.createElement('div');
                    cardBack.className = 'card-back';
                    cardBack.innerHTML = `<i class="fas ${icon}"></i>`;
                    
                    cardInner.appendChild(cardFront);
                    cardInner.appendChild(cardBack);
                    card.appendChild(cardInner);
                    
                    card.addEventListener('click', () => flipCard(card));
                    
                    gameBoard.appendChild(card);
                    gameState.cards.push(card);
                });
            }
            
            // 翻转卡片
            function flipCard(card) {
                // 如果游戏未开始、游戏结束、卡片已匹配或已翻开，则忽略点击
                if (!gameState.gameStarted || gameState.gameOver || 
                    card.classList.contains('matched') || 
                    card.classList.contains('flipped') || 
                    gameState.flippedCards.length >= 2) {
                    return;
                }
                
                // 如果这是第一张翻开的卡片，开始计时
                if (gameState.moves === 0) {
                    startTimer();
                }
                
                // 翻转卡片
                card.classList.add('flipped');
                gameState.flippedCards.push(card);
                
                // 如果翻开了两张卡片，检查是否匹配
                if (gameState.flippedCards.length === 2) {
                    gameState.moves++;
                    movesElement.textContent = gameState.moves;
                    
                    const card1 = gameState.flippedCards[0];
                    const card2 = gameState.flippedCards[1];
                    
                    // 检查卡片是否匹配
                    if (card1.dataset.icon === card2.dataset.icon) {
                        // 匹配成功
                        setTimeout(() => {
                            card1.classList.add('matched');
                            card2.classList.add('matched');
                            gameState.flippedCards = [];
                            
                            gameState.matchedPairs++;
                            matchesElement.textContent = gameState.matchedPairs;
                            
                            // 检查是否获胜
                            if (gameState.matchedPairs === config.totalPairs) {
                                winGame();
                            }
                        }, 500);
                    } else {
                        // 不匹配，翻回去
                        setTimeout(() => {
                            card1.classList.remove('flipped');
                            card2.classList.remove('flipped');
                            gameState.flippedCards = [];
                        }, 1000);
                    }
                }
            }
            
            // 开始计时器
            function startTimer() {
                if (gameState.timerInterval) {
                    clearInterval(gameState.timerInterval);
                }
                
                gameState.timerInterval = setInterval(() => {
                    gameState.timer--;
                    timerElement.textContent = gameState.timer;
                    
                    // 时间到，游戏结束
                    if (gameState.timer <= 0) {
                        clearInterval(gameState.timerInterval);
                        gameState.gameOver = true;
                        alert('时间到了！游戏结束。点击"重新开始"再试一次。');
                    }
                }, 1000);
            }
            
            // 获胜处理
            function winGame() {
                clearInterval(gameState.timerInterval);
                gameState.gameOver = true;
                
                setTimeout(() => {
                    finalMovesElement.textContent = gameState.moves;
                    finalTimeElement.textContent = config.totalTime - gameState.timer;
                    winMessage.style.display = 'flex';
                }, 500);
            }
            
            // 开始游戏
            function startGame() {
                if (gameState.gameStarted) return;
                
                gameState.gameStarted = true;
                startBtn.disabled = true;
                startBtn.innerHTML = '<i class="fas fa-play"></i> 游戏中...';
                
                // 如果这是第一次移动，计时器将在第一次翻牌时开始
                if (gameState.moves === 0) {
                    // 显示所有卡片3秒钟，然后翻回去
                    showAllCards();
                }
            }
            
            // 显示所有卡片
            function showAllCards() {
                gameState.cards.forEach(card => {
                    card.classList.add('flipped');
                });
                
                setTimeout(() => {
                    gameState.cards.forEach(card => {
                        card.classList.remove('flipped');
                    });
                }, 3000);
            }
            
            // 事件监听器
            startBtn.addEventListener('click', startGame);
            
            resetBtn.addEventListener('click', () => {
                initGame();
                startBtn.disabled = false;
                startBtn.innerHTML = '<i class="fas fa-play"></i> 开始游戏';
            });
            
            playAgainBtn.addEventListener('click', () => {
                winMessage.style.display = 'none';
                initGame();
                startBtn.disabled = false;
                startBtn.innerHTML = '<i class="fas fa-play"></i> 开始游戏';
            });
            
            // 初始化游戏
            initGame();
        });
    </script>
</body>
</html>